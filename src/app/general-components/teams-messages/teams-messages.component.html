<div class="container">
  <h1>Messages</h1>
  <div *ngIf="groups.length">
    <label for="_group"></label>
    <select [(ngModel)]="groupSelected" name="_group" id="_group" (change)="loadTeams($event)">
      <option *ngFor="let group of groups" [value]="group.id">
        {{'Group ' + group.id + ' ' + group.course.name + ' ' + group.period}}
      </option>
    </select>
  </div>
  <div *ngIf="teams.length && loadedTeam">
    <label for="_teams"></label>
    <select [(ngModel)]="teamSelected" name="_teams" id="_teams" (change)="loadMessages($event)">
      <option *ngFor="let team of teams" [value]="team.id">
        {{team.name}}
      </option>
    </select>
  </div>
  <div *ngIf="!teams.length && loadedTeam">
    Group has no teams
  </div>
  <div *ngIf="messages.length && loadedMessages" class="messages">
    <table class="table table-hover table-striped">
      <thead>
        <tr>
          <th>Date</th>
          <th>Message</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let mes of messages">
          <td> {{ mes.created | dateFilter }} </td>
          <td> {{ mes.text }} </td>
        </tr>
      </tbody>
    
    </table>
  </div>
  <div *ngIf="!messages.length && loadedMessages">
    Team has no messages
  </div>
</div>
